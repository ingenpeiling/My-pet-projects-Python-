# Learn New Words

## Краткое описание
Чат-бот на основе правил, который помогает студентам быстрее разбирать тексты на английском языке: выбирать и сохранять новые слова, их перевод и примеры употребления.

## Кейс
**Проблема**: студент получил задание прочитать художественный текст на английском. Текст сложный, в нем много новых слов, и читать его тяжело. Уходит слишком много времени на то, чтобы перевести и выписать все новые слова. 

**Решение**: чат-бот анализирует текст и находит слова, которые могут быть новыми для студента. Дальше студент взаимодействует с программой: отмечает, знает ли он предложенные слова, и если не знает, то сразу получает несколько вариантов их перевода. Студент выбирает тот перевод, который верен в данном контексте, и слова сохраняются в таблицу в текстовом файле.

В результате еще до полноценного чтения текста студент имеет список новых слов с переводом и примером употребления. Повторив слова из таблицы несколько раз, он сможет легко прочитать текст. 

С одной стороны, процесс разбора текста автоматизирован (не нужно тратить время на поиск слов в словаре, на выписывание предложений из текста), а с другой, студент сам изучает контекст и выбирает верный перевод, и поэтому лучше запоминает новые слова.

## Входные данные
На вход принимается pdf файл с текстом на английском языке.

## Принцип работы 
Полный [сценарий чат-бота](chatbot_scenario_learn_new_words.png) со всеми действиями и сообщениями.
1. Пользователь выбирает pdf файл и диапазон страниц, которые нужно проанализировать.
2. Текст извлекается из файла и токенизируется (делится на предложения и на слова). Также производится частеречная разметка.
3. Из полного списка токенов исключаются числа и имена собственные (на основе регистра), далее выбираются слова в заданном диапазоне частотности на основе данных библиотеки `wordfreq`. Для студента уровня C1 задан диапазон значений `zipf_frequency` 1.5 - 2.7. Для адаптации программы под студента другого уровня значения нужно изменить.
4. Получившийся набор слов сохраняется в множество `word_set` - это потенциально новые слова.
5. Студент указывает, сколько новых слов хотел бы записать, число сохраняется в переменную `words_needed`.
6. Программа по одному лемматизирует и показывает студенту слова из `word_set` вместе с предложениями, где они встретились, и спрашивает, известно ли ему это слово. Если да, программа переходит к следующему слову и спрашивает снова.
8. Если студент отвечает, что не знает слово, программа переводит его с помощью библиотеки `googletrans`. Если вариантов перевода несколько, показываются все.
9. Студент выбирает, какие варианты перевода подходят к контексту предложения. Также есть возможность указать, что все варианты неверные и ввести свой перевод.
10. Слово, выбранные варианты перевода и пример предложения сохраняются в словарь `new_words`.
11. Проверяется, совпадает ли число `words_needed` с длиной словаря `new_words`. Если нет, программа переходит к следующему слову из `word_set`. Если да, создается файл docx, где сохраняются данные из `new_words`, и программа завершает работу.

## Результат
В файл формата docx сохраняется таблица с четырьмя столбцами: номер, слово в начальной форме (лемма), перевод (один или несколько вариантов) и пример (предложение из текста, где было использовано это слово).
[Пример результата](result_learn_new_words.jpg).

## Код
[Ссылка на код](learn_new_words.py).

